(this.webpackJsonpfaceowl=this.webpackJsonpfaceowl||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/owl.010100dd.svg"},,function(e,t,a){},function(e,t,a){},,,,function(e,t,a){e.exports=a(40)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(8),s=a.n(o),r=(a(22),a(1)),c=a(2),l=a(7),u=a(4),m=a(3),d=(a(23),a(5)),g=a(6),p=(a(24),a(12),function(e){var t=e.handleChange,a=e.label,n=Object(g.a)(e,["handleChange","label"]);return i.a.createElement("div",{className:"form-input-container"},i.a.createElement("input",Object.assign({className:"form-input",placeholder:a,onChange:t},n)),i.a.createElement("span",{className:"focus-form-input"}),i.a.createElement("span",{className:"symbol-form-input"},i.a.createElement("span",{className:"lnr lnr-"+a.replace(" ","").toLowerCase()})))}),h=(a(25),function(e){var t=e.children,a=Object(g.a)(e,["children"]);return i.a.createElement("button",Object.assign({className:"button"},a),t)}),f=(a(13),a(26),{email:"",password:"",isLoading:!1}),b=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.value,i=t.name;n.setState(Object(d.a)({},i,a))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,i=t.password;n.setState({isLoading:!0},(function(){fetch("https://agile-eyrie-66946.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:i})}).then((function(e){return e.json()})).then((function(e){e.id?(sessionStorage.setItem("userLog",JSON.stringify(e)),n.props.loadUser(e),n.props.onRouteChange("home")):(alert("Wrong credentials!"),n.setState({isLoading:!1}))})).catch((function(e){return console.log(e)}))}))},n.state=f,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("userLog");e&&(this.props.loadUser(JSON.parse(e)),this.props.onRouteChange("home"))}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.isLoading;return i.a.createElement("div",{className:"signin-signup-page-container"},i.a.createElement("article",{className:"signin-signup-page-card"},i.a.createElement("div",{className:"signin-signup-form-container"},i.a.createElement("div",{className:"company-trademark"},n?i.a.createElement("div",{className:"company-logo rolling-owl"}):i.a.createElement("div",{className:"company-logo"}),i.a.createElement("div",{className:"company-name"},"faceOwl")),i.a.createElement("div",{className:"sign-in-request"},"Login to your Account"),i.a.createElement("form",{className:"inputs-form",onSubmit:this.handleSubmit},i.a.createElement(p,{name:"email",type:"email",value:t,handleChange:this.handleChange,label:"Email",required:!0}),i.a.createElement(p,{name:"password",type:"password",value:a,handleChange:this.handleChange,label:"Password",required:!0}),i.a.createElement(h,{type:"submit"},"Login"))),i.a.createElement("div",{className:"side-container"},i.a.createElement("h1",{className:"side-greeting"},"Welcome Back!"),i.a.createElement("span",{className:"side-span-info"},"We are so happy you decided to come back. Here my faceOwl will help you discover faces in your pictures.",i.a.createElement("br",null),"If you haven't joined us yet, just click the register button and fill out the short registration form, then my faceOwl will do some magic."))))}}]),a}(n.Component),v=a(9),y=a.n(v),E=a(14),N=a(15),w=(a(28),{displayName:"",email:"",password:"",confirmPassword:"",isLoading:!1}),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.displayName,i=t.email,o=t.password,s=t.confirmPassword;o===s?n.setState({isLoading:!0},(function(){fetch("https://agile-eyrie-66946.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:i,password:o})}).then((function(e){return e.json()})).then((function(e){e.id?(n.props.loadUser(e),n.props.onRouteChange("home")):(n.setState({isLoading:!1}),alert("The email address you have entered is already registered"))})).catch((function(e){return console.log(e)}))})):alert("Passwords don't match!")},n.handleSubmitFormer=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,i,o,s,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.state,i=a.displayName,o=a.email,s=a.password,r=a.confirmPassword,s===r){e.next=5;break}return alert("Passwords don't match!"),e.abrupt("return");case 5:try{fetch("https://agile-eyrie-66946.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,email:o,password:s})}).then((function(e){return e.json()})).then((function(e){e.id?(n.props.loadUser(e),n.props.onRouteChange("home")):alert("The email address you have entered is already registered")}))}catch(c){console.log("error creating user",c.message)}n.setState(Object(E.a)({},w));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var t=e.target,a=t.value,i=t.name;n.setState(Object(d.a)({},i,a))},n.handleLoginAnimation=function(){n.setState({isLoading:!0})},n.state=w,n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.displayName,a=e.email,n=e.password,o=e.confirmPassword,s=e.isLoading;return i.a.createElement("div",{className:"signin-signup-page-container"},i.a.createElement("article",{className:"signin-signup-page-card"},i.a.createElement("div",{className:"signin-signup-form-container"},i.a.createElement("div",{className:"company-trademark"},s?i.a.createElement("div",{className:"company-logo rolling-owl"}):i.a.createElement("div",{className:"company-logo"}),i.a.createElement("div",{className:"company-name"},"faceOwl")),i.a.createElement("div",{className:"sign-up-request"},"Create an Account"),i.a.createElement("form",{className:"inputs-form",onSubmit:this.handleSubmit},i.a.createElement(p,{name:"displayName",type:"text",value:t,handleChange:this.handleChange,label:"Name",required:!0}),i.a.createElement(p,{name:"email",type:"email",value:a,handleChange:this.handleChange,label:"Email",required:!0}),i.a.createElement(p,{name:"password",type:"password",value:n,handleChange:this.handleChange,label:"Password",required:!0}),i.a.createElement(p,{name:"confirmPassword",type:"password",value:o,handleChange:this.handleChange,label:"Confirm Password",required:!0}),i.a.createElement(h,{type:"submit"},"Submit"))),i.a.createElement("div",{className:"side-container"},i.a.createElement("h1",{className:"side-greeting"},"Glad to see You!"),i.a.createElement("span",{className:"side-span-info"},"We are so happy you decided to join us, you won't regret it.",i.a.createElement("br",null)," Just fill out the registration form and start an amazing experience. my faceOwl is so excited, it can't wait to start help you discover facs in your pictures, lets GO!"))))}}]),a}(n.Component),S=(a(29),function(e){var t=e.onRouteChange;return e.isSignedIn?i.a.createElement("nav",{className:"navbar navbar-homepage"},i.a.createElement(h,{className:"navbar-button",onClick:function(){return t("signout")}},"Sign Out")):i.a.createElement("nav",{className:"navbar navbar-login-register"},i.a.createElement(h,{className:"navbar-button navbar-button-login",onClick:function(){return t("signin")}},"Login"),i.a.createElement(h,{className:"navbar-button navbar-button-register",onClick:function(){return t("register")}},"Register"))}),I=a(16),O=a.n(I),j=a(10),B=a.n(j),k=(a(30),function(e){var t=e.isButtonSubmitted;return i.a.createElement("div",{className:"logo-container"},i.a.createElement(O.a,{className:"tilt",options:{max:20}},t?i.a.createElement("img",{className:"rolling-owl",alt:"Logo",src:B.a}):i.a.createElement("img",{className:"",alt:"Logo",src:B.a})))}),F=(a(31),function(e){var t=e.name,a=e.entries;return i.a.createElement("div",{className:"greet_and_tries-container"},i.a.createElement("div",{className:"greet-name"},"Dear ".concat(t)),0===Number(a)?i.a.createElement("div",{className:"tries-hurray-container"},i.a.createElement("div",{className:"tries-container"},"Try finding faces in your pictures."),i.a.createElement("div",{className:"greet-hurray"},"it is AMAZING!")):i.a.createElement("div",{className:"tries-hurray-container"},i.a.createElement("div",{className:"tries-container"},"You have reached ".concat(a," tries already.")),i.a.createElement("div",{className:"greet-hurray"},"You Rock!")))}),L=(a(32),function(){return i.a.createElement("div",{className:"exp-container"},i.a.createElement("div",{className:"exp-big"},"I can find faces in your pictures"),i.a.createElement("div",{className:"exp-small"},"Just paste an image url or browse for one from your device, press find and than I'll do some magic."))}),U=(a(33),a(34),function(e){var t=e.handleChange,a=e.label,n=Object(g.a)(e,["handleChange","label"]);return i.a.createElement("div",{className:"url-input-container"},i.a.createElement("input",Object.assign({className:"url-input",placeholder:a,onChange:t},n)),i.a.createElement("span",{className:"focus-anim-url-input"}))}),R=(a(35),function(e){var t=e.loadingImage,a=e.OnImageUpload,n=e.onButtonClick;return i.a.createElement("div",{className:"browse_button_input-container"},t?i.a.createElement("input",{className:"loading-browse-button",name:"browseImage",type:"file",onClick:n,accept:"image/*",placeholder:"Loading",onChange:a}):i.a.createElement("input",{className:"normal-browse-button",name:"browseImage",type:"file",onClick:n,accept:"image/*",placeholder:"Browse",onChange:a}))}),_=function(e){var t=e.onInputChange,a=e.onInputBlur,n=e.onButtonSubmit,o=e.onButtonClick,s=e.input,r=e.handleKeyUp,c=e.OnImageUpload,l=e.loadingImage;e.isButtonSubmitted;return i.a.createElement("div",{className:"face_recognition_panel-container"},i.a.createElement("div",{className:"url_input-browse_button_input-container"},i.a.createElement(U,{name:"linkInput",type:"text",value:s,handleChange:t,onKeyUp:r,label:"Paste image URL here",required:!0}),i.a.createElement(R,{OnImageUpload:c,loadingImage:l,onButtonClick:o})),i.a.createElement(h,{className:"find-button",onClick:n,onBlur:a,type:"submit"},"Find"))},x=(a(36),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.getElementById("success").scrollIntoView()}},{key:"render",value:function(){return i.a.createElement("div",{className:"success-container"},i.a.createElement("div",{id:"success"},"Great Success!"))}}]),a}(i.a.Component)),D=(a(37),function(e){var t=e.imageURL,a=e.box;return i.a.createElement("div",{className:"face_recognition_image-outer-container"},i.a.createElement("div",{className:"face_recognition_image-container"},""!==t?i.a.createElement("img",{className:"face_recognition_image",id:"inputimage",alt:"",src:t,width:"auto",height:"auto"}):null,i.a.createElement("div",{className:"bounding-box",style:{top:a.topRow,right:a.rightCol,bottom:a.bottomRow,left:a.leftCol}})))}),P=(a(38),function(e){var t=e.name,a=e.entries,n=e.input,o=e.onInputChange,s=e.onInputFocus,r=e.onInputBlur,c=e.onButtonSubmit,l=e.onButtonClick,u=e.handleKeyUp,m=e.OnImageUpload,d=e.isFaceFound,g=e.box,p=e.imageURL,h=e.isImageLoaded,f=e.loadingImage,b=e.isDetectingFaces,v=e.isButtonSubmitted;return i.a.createElement("div",{className:"homepage-container"},i.a.createElement("div",{className:"homepage-card"},i.a.createElement("div",{className:"logo-greet_and_tries-container"}," ",i.a.createElement(k,{isButtonSubmitted:v}),i.a.createElement(F,{name:t,entries:a})),i.a.createElement("div",{className:"exp-face_recognition_panel-container"}," ",i.a.createElement(L,null),i.a.createElement(_,{input:n,onInputChange:o,onInputFocus:s,onInputBlur:r,onButtonSubmit:c,handleKeyUp:u,OnImageUpload:m,isImageLoaded:h,loadingImage:f,onButtonClick:l,isButtonSubmitted:v}))),b?i.a.createElement("div",{className:"success-face_recognition_image-container"},!0===d?i.a.createElement(x,null):null,i.a.createElement(D,{box:g,imageURL:p})):null)}),J={input:"",imageURL:"",uploadURL:"",box:{},route:"signin",isSignedIn:!1,isFaceFound:!1,loadingImage:!1,isButtonSubmitted:!1,imageFile:[],isDetectingFaces:!1,user:{id:"",name:"",email:"",entries:0,joined:""}},T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).loadUser=function(t){e.setState({user:{id:t.id,name:t.name,email:t.email,entries:t.entries,joined:t.joined}})},e.calculateFaceLocation=function(e){var t=document.getElementById("inputimage"),a=Number(t.width),n=Number(t.height);return console.log(a,n),{leftCol:e.left_col*a,rightCol:(1-e.right_col)*a,topRow:e.top_row*n,bottomRow:(1-e.bottom_row)*n}},e.displayFaceBox=function(t){console.log(t),e.setState({box:t,isButtonSubmitted:!1})},e.onInputChange=function(t){e.setState({input:t.target.value,uploadURL:"",imageFile:[]}),console.log(t.target.value)},e.onInputBlur=function(){e.setState({input:""})},e.onButtonClick=function(t){t.target.value="",e.setState({isImageLoaded:!1})},e.OnImageUpload=function(t){var a=t.target.files,n=[a[0].lastModified,a[0].size],i=[e.state.imageFile.lastModified,e.state.imageFile.size];i[0]!==n[0]||i[1]!==n[1]?e.setState({loadingImage:!0,imageFile:a[0],isFaceFound:!1,input:"",isDetectingFaces:!1},(function(){var t=new FormData;t.append("file",e.state.imageFile),t.append("upload_preset","faceowl"),console.log("uploading"),fetch("https://api.cloudinary.com/v1_1/dt94ijbsb/image/upload",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){e.setState({loadingImage:!1,uploadURL:t.secure_url})}))})):alert("Try to upload another image my friend")},e.onButtonSubmit=function(){var t="";t=""!==e.state.input?e.state.input:e.state.uploadURL,console.log(t),t!==e.state.imageURL||""===t?e.setState({imageURL:t,isFaceFound:!1,box:{},isDetectingFaces:!0,isButtonSubmitted:!0},(function(){fetch("https://agile-eyrie-66946.herokuapp.com/imageURL",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:e.state.imageURL})}).then((function(e){return e.json()})).then((function(t){"unable to work with Clarifai API"!==t?(fetch("https://agile-eyrie-66946.herokuapp.com/image",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.state.user.id})}).then((function(e){return e.json()})).then((function(t){e.setState(Object.assign(e.state.user,{entries:t}))})).catch(console.log),e.setState({isFaceFound:!0,isButtonSubmitted:!1},(function(){e.displayFaceBox(e.calculateFaceLocation(t))}))):(e.setState({isFaceFound:!1,input:"",isButtonSubmitted:!1,isDetectingFaces:!1}),alert("Sorry something went wrong, please try again"))})).catch((function(e){return console.log(e)}))})):alert("Please try a new image my friend")},e.handleKeyUp=function(t){13===t.keyCode&&e.onButtonSubmit()},e.onRouteChange=function(t){"signout"===t?(sessionStorage.removeItem("userLog"),e.setState(J)):"home"===t&&e.setState({isSignedIn:!0}),e.setState({route:t})},e.state=J,e.onButtonSubmit=e.onButtonSubmit.bind(Object(l.a)(e)),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.imageURL,a=e.box,n=e.route,o=e.isSignedIn,s=e.isFaceFound,r=e.loadingImage,c=e.isDetectingFaces,l=e.isButtonSubmitted;return i.a.createElement("div",{className:"App ".concat(c?"":"overflow")},i.a.createElement(S,{isSignedIn:o,onRouteChange:this.onRouteChange}),"home"===n?i.a.createElement(P,{name:this.state.user.name,entries:this.state.user.entries,input:this.state.input,onInputChange:this.onInputChange,onInputFocus:this.onInputFocus,onInputBlur:this.onInputBlur,onButtonSubmit:this.onButtonSubmit,handleKeyUp:this.handleKeyUp,OnImageUpload:this.OnImageUpload,box:a,imageURL:t,isFaceFound:s,isDetectingFaces:c,isButtonSubmitted:l,loadingImage:r,onButtonClick:this.onButtonClick}):"signin"===n||"signout"===n?i.a.createElement(b,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}):i.a.createElement(C,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}))}}]),a}(n.Component);a(39),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[17,1,2]]]);
//# sourceMappingURL=main.c0634b90.chunk.js.map